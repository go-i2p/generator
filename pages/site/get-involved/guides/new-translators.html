{% extends "global/layout.html" %}
{% block title %}{% trans %}New Translator's Guide{% endtrans %}{% endblock %}
{% block content %}
{% trans %}Here's a very quick guide to getting started. 
Note that for both (website/console) there is an <b>easy way</b> using a 
translation web-site (and requiring nothing else than to use that) and 
the <b>other way</b> which requires you to set up a build-environment 
(installing software etc.).{% endtrans %}

<h2>{% trans %}How to Translate the Website{% endtrans %}</h2>

<p>{% trans transifex='https://www.transifex.com/projects/p/I2P/' -%}
Translation of the website is done with .po files. The easiest way by far to
translate the website is to sign up for an account at 
<a href="{{ transifex }}">Transifex</a> and request to join a translation team. 
Alternatively it can be done "the old way" as outlined below.
{%- endtrans %}</p>

<ol>
<li>
<b>{% trans %}Preparation{% endtrans %}</b>
  <ol>
  <li>{% trans url='http://'+i2pconv('ugha.i2p')+'/i2pTranslation' -%}
Come to #i2p-dev on irc and talk to people.
Claim the language -
To make sure other coworkers don't bump onto the files you are working on,
please update the translation status on <a href="{{ url }}">this wiki page</a>.
{%- endtrans %}</li>
  <li>{% trans newdevs=site_url('get-involved/guides/new-developers') -%}
Follow the <a href="{{ newdevs }}">new developer's guide</a>,
including the installation of git and the gettext tools. You will need 
the i2p.www repository.
It is not required that you sign a dev agreement.
{%- endtrans %}</li>
  </ol>

<li>{% trans -%}
<b>Create files:</b>
If the file for your language does not exist yet:
{%- endtrans %}
  <ol>
  <li>{% trans -%}
Run "<code>./extract-messages.sh</code>" to generate a <code>messages.pot</code> in the base directory.
Edit the header of this file, then run "<code>./init-new-po.sh locale</code>" to generate the file
<code>i2p2www/translations/locale/LC_MESSAGES/messages.po</code>. "<code>mtn add</code>" this file.
{%- endtrans %}</li>
  <li>{% trans -%}
Edit <code>i2p2www/pages/global/lang.html</code> and add a line for your language (copy an existing line).
{%- endtrans %}</li>
  <li>{% trans -%}
Add a flag image file to <code>i2p2www/static/images/flags/</code> for the menu (copy from the router).
{%- endtrans %}</li>
  </ol>
</li>

<li>{% trans -%}
<b>Edit files:</b>
Edit <code>i2p2www/translations/locale/LC_MESSAGES/messages.po</code>.
To work with .po files efficiently, you may wish to use <a href="http://www.poedit.net/download.php">POEdit</a>
{%- endtrans %}</li>

<li>{% trans -%}
<b>Git Workflow:</b>
You can then add all new and changed files to your next commit using <code>git add .</code> (or specify which files instead of the dot).
Please note the suggested workflow for git on our git-page.
{%- endtrans %}</li>

<li>{% trans -%}
Repeat. Check in often. Don't wait until it is perfect.
{%- endtrans %}</li>


</ol>

<h2>{% trans %}How to Translate the Router Console{% endtrans %}</h2>

<p>{% trans transifex='https://www.transifex.com/projects/p/I2P/' -%}
The easiest way by far to translate the router console is to sign up for an account at 
<a href="{{ transifex }}">Transifex</a> and request to join a translation team. 
Alternatively it can be done "the old way" as outlined below.
{%- endtrans %}</p>

<ol>
<li>
<b>{% trans %}Preparation{% endtrans %}</b>
  <ol>
  <li>{% trans url='http://'+i2pconv('ugha.i2p')+'/i2pTranslation' -%}
Come to #i2p-dev on irc and talk to people.
Claim the language -
To make sure other coworkers don't bump onto the files you are working on,
please update the translation status on <a href="{{ url }}">this wiki page</a>.
{%- endtrans %}</li>
  <li>{% trans newdevs=site_url('get-involved/guides/new-developers') -%}
Follow the <a href="{{ newdevs }}">new developer's guide</a>,
including the installation of git and the gettext tools. You will need 
the i2p.i2p repository.
{%- endtrans %}</li>
  <li>{% trans -%}
Generate your own gpg key and sign the dev agreement.
{%- endtrans %}</li>
  </ol>
</li>

<li>{% trans -%}
Before starting a console translation, better help translate some i2p webpages first.
At least an i2p homepage in your language would be great.
{%- endtrans %}</li>

<li>{% trans -%}
<b>What to translate:</b>
There are about 15 files in the i2p.i2p branch that needs translation:
{%- endtrans %}

  <ul>
  <li>
    <code>installer/resources/readme/readme_xx.html</code></li>
  <li>
    <code>installer/resources/initialNews/initialNews_xx.xml</code></li>
  <li>
    <code>apps/routerconsole/locale/messages_xx.po</code></li>
  <li>
    <code>installer/resources/proxy/*_xx.ht</code> (about 9 files)</li>
  <li>
    <code>apps/routerconsole/jsp/help_xx.jsp</code></li>
  <li>
    <code>installer/resources/I2P Site.help/help/index_xx.html</code></li>
  <li>
    <code>apps/i2ptunnel/locale/messages_xx.po</code></li>
  <li>
    <code>apps/i2psnark/locale/messages_xx.po</code></li>
  <li>
    <code>apps/susidns/locale/messages_xx.po</code></li>
  </ul>

{% trans -%}
Where xx is your language code like fr/de/ch/zh/...
There may be or may not be files with your lang code. If not, you can create your own. by copying and renaming other language files you know with your own lang code.
{%- endtrans %}</li>

<li>{% trans -%}
<b>Create files:</b>
If the file for your language does not exist yet, copy another language file to a new file <code>foo_xx.bar</code> for your language.
Then "<code>mtn add</code>" the file.
After creating a .po file, edit the headers. Then run "<code>ant distclean poupdate</code>".
{%- endtrans %}</li>

<li>{% trans -%}
<b>Start to work:</b>
Edit the HTML files with any text editor.
Be sure not to use an editor in HTML mode that reformats everything.
To work with .po files efficiently, you may wish to use <a href="http://www.poedit.net/download.php">POEdit</a>
{%- endtrans %}</li>

<li>{% trans -%}
<b>Git Workflow:</b>
You can then add all new and changed files to your next commit using <code>git add .</code> (or specify which files instead of the dot).
Please note the suggested workflow for git on our git-page.
{%- endtrans %}</li>

<li>{% trans -%}
Repeat. Check in often. Don't wait until it is perfect.
{%- endtrans %}</li>
</ol>

<p>{% trans -%}
As you can see, it's not that difficult.
If you have questions about the meaning of the terms in the console, ask in <code>#i2p-dev</code> on IRC.
{%- endtrans %}</p>


<h2>{% trans %}FAQ{% endtrans %}</h2>

<p><b>{% trans -%}
Q: Why do I have to install git, Java, jsp, learn about .po files and html, etc.? Why can't I just do a translation and email it to you?
{%- endtrans %}</b></p>

<p><b>{% trans %}A: You do not / Several reasons:{% endtrans %}</b></p>

<ul>
<li>{% trans transifex='https://www.transifex.com/projects/p/I2P/' -%}
First of all: you don't have to, you can translate via Transifex (aka "using a web-site to translate"). Request to join a translation team <a href="{{ transifex }}">here</a>. Aside from that ...
{%- endtrans %}</li>

<li>{% trans -%}
We don't have anybody who has time to accept manual contributions and submit them to our source control system on your behalf. Even if we did, it doesn't scale.
{%- endtrans %}</li>

<li>{% trans -%}
Maybe you are thinking translation is a one-step process. It isn't. You can't do it all at once. You will make mistakes. You need to test it and tweak it to make it look right <i>before</i> you submit it. Developers will update or add to the English text, thus requiring a translation update.
{%- endtrans %}</li>

<li>{% trans -%}
Having translators use a source control system directly provides authentication and accountablility - we know who is doing what, and we can track changes, and revert them if necessary.
{%- endtrans %}</li>

<li>{% trans -%}
.po files are not difficult. If you don't want to work directly with them, we recommend 'poedit'.
{%- endtrans %}</li>

<li>{% trans -%}
HTML files are not difficult. Just ignore the html stuff and translate the text.
{%- endtrans %}</li>

<li>{% trans -%}
Installing and using git is not that difficult. Several of the translators and other contributors to I2P are non-programmers, and they use git regularly. Git is simply a source control system, it is not about "coding".
{%- endtrans %}</li>

<li>{% trans -%}
Our items to translate are not "documents". They are html files and po files, with a specific format and character encoding (UTF-8) that must be maintained, and not corrupted by email programs or other methods of transfer.
{%- endtrans %}</li>

<li>{% trans -%}
We looked at 'pootle' as a front-end for translators. It didn't work well, needed an administrator, and a pootle-based process would suffer from a number of the above flaws.
{%- endtrans %}</li>
</ul>

<p>{% trans -%}
<b>In summary:</b>
Yes, we know it is somewhat of a hurdle to get started. It's really the only possible way we can do it. Give it a try, it really isn't that hard.
{%- endtrans %}

<h2>{% trans %}More Information{% endtrans %}</h2>
<p>{% trans zzz=i2pconv('zzz.i2p') -%}
The #i2p-dev channel on IRC, or the <a href="http://{{ zzz }}/forums/14">translation forum on {{ zzz }}</a>.
{%- endtrans %}</p>

{% endblock %}
